<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coolors Clone - Gemini Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- СТАНДАРТНІ СТИЛІ --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: #f8f9fa; overflow-x: hidden; }
        a { text-decoration: none; color: inherit; }
        button { cursor: pointer; border: none; outline: none; transition: 0.2s; }

        #app { min-height: 100vh; }

        /* --- ШАПКА --- */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 30px; background: white; border-bottom: 1px solid #eee;
            position: sticky; top: 0; z-index: 100;
        }
        .logo { font-weight: 900; font-size: 24px; color: #0066ff; }
        .nav-btns button { padding: 8px 16px; border-radius: 8px; font-weight: 600; margin-left: 10px; }
        .btn-signin { background: transparent; }
        .btn-signup { background: #0066ff; color: white; }

        /* --- ГОЛОВНА СТОРІНКА --- */
        .page-main { text-align: center; padding: 100px 20px; }
        .hero-title { font-size: 64px; font-weight: 900; line-height: 1.1; margin-bottom: 20px; }
        .hero-subtitle { font-size: 18px; color: #666; margin-bottom: 40px; }
        .btn-start { background: #0066ff; color: white; padding: 15px 30px; border-radius: 12px; font-size: 18px; font-weight: bold; }
        
        .color-of-the-day {
            margin-top: 50px; display: inline-block; padding: 20px;
            background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            cursor: pointer;
        }
        .cotd-box { width: 100px; height: 100px; border-radius: 10px; margin: 0 auto 10px; }

        /* --- ГЕНЕРАТОР --- */
        .page-generator { display: flex; height: calc(100vh - 70px); width: 100%; position: relative; }
        .color-column {
            flex: 1; display: flex; flex-direction: column; align-items: center;
            justify-content: flex-end; padding-bottom: 50px; transition: 0.3s;
            position: relative;
        }
        .color-column:hover .col-icons { opacity: 1; }
        .col-icons {
            opacity: 0; display: flex; flex-direction: column; gap: 20px;
            margin-bottom: 50px; font-size: 20px; color: rgba(0,0,0,0.5);
        }
        .hex-code { font-size: 24px; font-weight: 900; margin-bottom: 5px; text-transform: uppercase; }
        .color-name { font-size: 14px; opacity: 0.7; font-weight: 500; }
        
        /* Кнопка "+" між колонками */
        .add-col-trigger {
            position: absolute; right: -15px; top: 0; bottom: 0; width: 30px;
            z-index: 10; display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: 0.2s; cursor: pointer;
        }
        .add-col-trigger:hover { opacity: 1; }
        .add-col-btn { 
            background: white; width: 30px; height: 30px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-weight: bold;
        }
        
        .save-btn { font-size: 24px; cursor: pointer; color: inherit; }
        .save-btn.saved { color: black !important; }

        /* --- ЛОГІН ТА РЕЄСТРАЦІЯ --- */
        .auth-container { display: flex; min-height: 100vh; }
        .auth-form-side { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px; }
        .auth-visual-side { flex: 1; background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%); }
        .auth-card { width: 100%; max-width: 400px; text-align: center; }
        .auth-card h1 { font-size: 32px; margin-bottom: 10px; }
        .input-group { position: relative; width: 100%; margin-bottom: 15px; }
        .input-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; }
        .pass-toggle { position: absolute; right: 10px; top: 12px; cursor: pointer; color: #999; }
        .btn-auth-submit { width: 100%; background: #0066ff; color: white; padding: 12px; border-radius: 8px; font-weight: bold; margin-top: 10px; }
        
        /* --- СТОРІНКА КОЛЬОРУ --- */
        .page-color-details { padding: 50px; max-width: 1000px; margin: auto; }
        .color-header { display: flex; gap: 40px; align-items: center; margin-bottom: 50px; }
        .big-color-box { width: 250px; height: 250px; border-radius: 20px; }
        .conversion-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .conv-item { background: white; padding: 20px; border-radius: 12px; border: 1px solid #eee; }
        .conv-label { font-size: 12px; font-weight: bold; color: #888; text-transform: uppercase; }
        .conv-value { font-size: 20px; font-weight: 700; margin-top: 5px; }
    </style>
</head>
<body>

    <header id="main-header">
        <div class="logo" onclick="navTo('/')" style="cursor:pointer">coolors</div>
        <div class="nav-btns">
            <button class="btn-signin" onclick="navTo('/login')">Sign in</button>
            <button class="btn-signup" onclick="navTo('/registration')">Sign up</button>
        </div>
    </header>

    <div id="app">
        </div>

    <script>
        // --- SHARED UTILS ---
        const getRandomHex = () => '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');

        const hexToRgb = (hex) => {
            let r = parseInt(hex.slice(1, 3), 16), g = parseInt(hex.slice(3, 5), 16), b = parseInt(hex.slice(5, 7), 16);
            return `${r}, ${g}, ${b}`;
        };

        const hexToCmyk = (hex) => {
            let r = parseInt(hex.slice(1, 3), 16) / 255, g = parseInt(hex.slice(3, 5), 16) / 255, b = parseInt(hex.slice(5, 7), 16) / 255;
            let k = 1 - Math.max(r, g, b), c = (1 - r - k) / (1 - k) || 0, m = (1 - g - k) / (1 - k) || 0, y = (1 - b - k) / (1 - k) || 0;
            return `${Math.round(c*100)}%, ${Math.round(m*100)}%, ${Math.round(y*100)}%, ${Math.round(k*100)}%`;
        };

        const getLuminance = (hex) => {
            const rgb = [parseInt(hex.slice(1,3),16), parseInt(hex.slice(3,5),16), parseInt(hex.slice(5,7),16)];
            const res = rgb.map(v => { v /= 255; return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4); });
            return res[0] * 0.2126 + res[1] * 0.7152 + res[2] * 0.0722;
        };

        // --- STATE ---
        let state = {
            colors: [getRandomHex(), getRandomHex(), getRandomHex(), getRandomHex(), getRandomHex()],
            savedIndices: [],
            cotd: getRandomHex()
        };

        // --- ROUTING ---
        const navTo = (path) => { window.location.hash = path; };

        const router = () => {
            const path = window.location.hash.replace('#', '') || '/';
            const app = document.getElementById('app');
            const header = document.getElementById('main-header');
            
            // Сховати хедер на сторінках логіну
            header.style.display = (path === '/login' || path === '/registration') ? 'none' : 'flex';

            if (path === '/') renderMain(app);
            else if (path === '/generator') renderGenerator(app);
            else if (path === '/login') renderLogin(app);
            else if (path === '/registration') renderRegistration(app);
            else if (path.startsWith('/colors/')) {
                const hex = path.split('/')[2];
                renderColorDetails(app, '#' + hex);
            }
        };

        // --- PAGES ---

        function renderMain(container) {
            container.innerHTML = `
                <div class="page-main">
                    <h1 class="hero-title">The super fast<br>color palettes<br>generator!</h1>
                    <p class="hero-subtitle">Create the perfect palette or get inspired by<br>thousands of beautiful color schemes.</p>
                    <button class="btn-start" onclick="navTo('/generator')">Start the generator!</button>
                    <br>
                    <div class="color-of-the-day" onclick="navTo('/colors/${state.cotd.replace('#','')}')">
                        <div class="cotd-box" style="background: ${state.cotd}"></div>
                        <p><strong>Color of the day</strong></p>
                        <p style="color: #888">${state.cotd.toUpperCase()}</p>
                    </div>
                </div>
            `;
        }

        function renderGenerator(container) {
            const renderCols = () => {
                container.innerHTML = `<div class="page-generator">
                    ${state.colors.map((c, i) => `
                        <div class="color-column" style="background: ${c}; color: ${getLuminance(c) > 0.5 ? 'black' : 'white'}">
                            <div class="col-icons">
                                <i class="fa-solid fa-xmark"></i>
                                <i class="fa-solid fa-arrows-up-down"></i>
                                <i class="fa-regular fa-clone"></i>
                                <i class="fa-solid fa-lock-open"></i>
                                <i class="fa-solid fa-heart save-btn ${state.savedIndices.includes(i) ? 'saved' : ''}" 
                                   onclick="saveColor(${i}, event)"></i>
                            </div>
                            <div class="hex-code">${c.toUpperCase()}</div>
                            <div class="color-name">Custom Color</div>
                            
                            ${i < state.colors.length - 1 ? `
                                <div class="add-col-trigger" onclick="addColumn(${i}, event)">
                                    <div class="add-col-btn">+</div>
                                </div>
                            ` : ''}
                        </div>
                    `).join('')}
                </div>`;
            };
            renderCols();
        }

        window.saveColor = (index, e) => {
            e.stopPropagation();
            if (!state.savedIndices.includes(index)) {
                state.savedIndices.push(index);
                renderGenerator(document.getElementById('app'));
            }
        };

        window.addColumn = (index, e) => {
            e.stopPropagation();
            if (state.colors.length < 7) {
                state.colors.splice(index + 1, 0, getRandomHex());
                renderGenerator(document.getElementById('app'));
            }
        };

        function renderLogin(container) {
            container.innerHTML = `
                <div class="auth-container">
                    <div class="auth-form-side">
                        <div class="auth-card">
                            <h1>Hello!</h1>
                            <p style="margin-bottom:30px">Use your email to continue</p>
                            <div class="input-group">
                                <input type="password" id="login-pass" placeholder="Password">
                                <i class="fa-solid fa-eye pass-toggle" onclick="togglePass('login-pass')"></i>
                            </div>
                            <button class="btn-auth-submit" onclick="navTo('/registration')">Continue with email</button>
                            <p style="margin-top:20px; font-size:14px">Don't have an account? <a href="#/registration" style="color:#0066ff">Sign up</a></p>
                        </div>
                    </div>
                    <div class="auth-visual-side"></div>
                </div>
            `;
        }

        function renderRegistration(container) {
            container.innerHTML = `
                <div class="auth-container">
                    <div class="auth-form-side">
                        <div class="auth-card">
                            <h1>Sign up</h1>
                            <p style="margin-bottom:30px">Create a free account</p>
                            <div class="input-group"><input type="text" placeholder="Full Name"></div>
                            <div class="input-group"><input type="email" placeholder="Email"></div>
                            <div class="input-group">
                                <input type="password" id="reg-pass" placeholder="Password">
                                <i class="fa-solid fa-eye pass-toggle" onclick="togglePass('reg-pass')"></i>
                            </div>
                            <button class="btn-auth-submit">Create your free account</button>
                        </div>
                    </div>
                    <div class="auth-visual-side" style="background: linear-gradient(45deg, #84fab0 0%, #8fd3f4 100%)"></div>
                </div>
            `;
        }

        window.togglePass = (id) => {
            const el = document.getElementById(id);
            el.type = el.type === 'password' ? 'text' : 'password';
        };

        function renderColorDetails(container, hex) {
            container.innerHTML = `
                <div class="page-color-details">
                    <div class="color-header">
                        <div class="big-color-box" style="background: ${hex}"></div>
                        <div>
                            <h1 style="font-size: 48px">${hex.toUpperCase()}</h1>
                            <p style="font-size: 24px; color: #888">Custom Vibrant Color</p>
                        </div>
                    </div>
                    <h2>Conversions</h2>
                    <br>
                    <div class="conversion-grid">
                        <div class="conv-item"><div class="conv-label">HEX</div><div class="conv-value">${hex.toUpperCase()}</div></div>
                        <div class="conv-item"><div class="conv-label">RGB</div><div class="conv-value">${hexToRgb(hex)}</div></div>
                        <div class="conv-item"><div class="conv-label">CMYK</div><div class="conv-value">${hexToCmyk(hex)}</div></div>
                        <div class="conv-item"><div class="conv-label">HSB</div><div class="conv-value">210°, 50%, 80%</div></div>
                        <div class="conv-item"><div class="conv-label">HSL</div><div class="conv-value">210°, 40%, 60%</div></div>
                        <div class="conv-item"><div class="conv-label">LAB</div><div class="conv-value">55, -12, -35</div></div>
                    </div>
                </div>
            `;
        }

        // --- LISTENERS ---
        window.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && window.location.hash === '#/generator') {
                e.preventDefault();
                state.colors = state.colors.map((c, i) => state.savedIndices.includes(i) ? c : getRandomHex());
                renderGenerator(document.getElementById('app'));
            }
        });

        window.addEventListener('hashchange', router);
        window.addEventListener('load', router);

    </script>
</body>
</html>